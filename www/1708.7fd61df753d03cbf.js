"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1708],{2726:(te,R,b)=>{b.d(R,{Uw:()=>f,fo:()=>n,ur:()=>y,xz:()=>_});var l=b(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var y=function(r){return r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE",r}(y||{});class _ extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}}const c=r=>{var e,t,s,a,i;const u=r.CapacitorCustomPlatform||null,o=r.Capacitor||{},P=o.Plugins=o.Plugins||{},d=r.CapacitorPlatforms,N=(null===(e=null==d?void 0:d.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==u?u.name:(r=>{var e,t;return null!=r&&r.androidBridge?"android":null!==(t=null===(e=null==r?void 0:r.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(r)),ce=(null===(t=null==d?void 0:d.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==N()),ue=(null===(s=null==d?void 0:d.currentPlatform)||void 0===s?void 0:s.isPluginAvailable)||(g=>{const v=z.get(g);return!!(null!=v&&v.platforms.has(N())||V(g))}),V=(null===(a=null==d?void 0:d.currentPlatform)||void 0===a?void 0:a.getPluginHeader)||(g=>{var v;return null===(v=o.PluginHeaders)||void 0===v?void 0:v.find($=>$.name===g)}),z=new Map,ve=(null===(i=null==d?void 0:d.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((g,v={})=>{const $=z.get(g);if($)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),$.proxy;const U=N(),W=V(g);let E;const Pe=function(){var h=(0,l.Z)(function*(){return!E&&U in v?E=E="function"==typeof v[U]?yield v[U]():v[U]:null!==u&&!E&&"web"in v&&(E=E="function"==typeof v.web?yield v.web():v.web),E});return function(){return h.apply(this,arguments)}}(),J=h=>{let p;const C=(...L)=>{const O=Pe().then(w=>{const D=((h,p)=>{var C,L;if(!W){if(h)return null===(L=h[p])||void 0===L?void 0:L.bind(h);throw new _(`"${g}" plugin is not implemented on ${U}`,y.Unimplemented)}{const O=null==W?void 0:W.methods.find(w=>p===w.name);if(O)return"promise"===O.rtype?w=>o.nativePromise(g,p.toString(),w):(w,D)=>o.nativeCallback(g,p.toString(),w,D);if(h)return null===(C=h[p])||void 0===C?void 0:C.bind(h)}})(w,h);if(D){const K=D(...L);return p=null==K?void 0:K.remove,K}throw new _(`"${g}.${h}()" is not implemented on ${U}`,y.Unimplemented)});return"addListener"===h&&(O.remove=(0,l.Z)(function*(){return p()})),O};return C.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(C,"name",{value:h,writable:!1,configurable:!1}),C},B=J("addListener"),ee=J("removeListener"),pe=(h,p)=>{const C=B({eventName:h},p),L=function(){var w=(0,l.Z)(function*(){const D=yield C;ee({eventName:h,callbackId:D},p)});return function(){return w.apply(this,arguments)}}(),O=new Promise(w=>C.then(()=>w({remove:L})));return O.remove=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield L()}),O},F=new Proxy({},{get(h,p){switch(p){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?pe:B;case"removeListener":return ee;default:return J(p)}}});return P[g]=F,z.set(g,{name:g,proxy:F,platforms:new Set([...Object.keys(v),...W?[U]:[]])}),F});return o.convertFileSrc||(o.convertFileSrc=g=>g),o.getPlatform=N,o.handleError=g=>r.console.error(g),o.isNativePlatform=ce,o.isPluginAvailable=ue,o.pluginMethodNoop=(g,v,$)=>Promise.reject(`${$} does not have an implementation of "${v}".`),o.registerPlugin=ve,o.Exception=_,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},A=(r=>r.Capacitor=c(r))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),n=A.registerPlugin;class f{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var s=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const u=function(){var P=(0,l.Z)(function*(){return s.removeListener(e,t)});return function(){return P.apply(this,arguments)}}(),o=Promise.resolve({remove:u});return Object.defineProperty(o,"remove",{value:(P=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield u()}),function(){return P.apply(this,arguments)})}),o;var P}removeAllListeners(){var e=this;return(0,l.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const s=this.listeners[e];s&&s.forEach(a=>a(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new A.Exception(e,y.Unimplemented)}unavailable(e="not available"){return new A.Exception(e,y.Unavailable)}removeListener(e,t){var s=this;return(0,l.Z)(function*(){const a=s.listeners[e];if(!a)return;const i=a.indexOf(t);s.listeners[e].splice(i,1),s.listeners[e].length||s.removeWindowListener(s.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const j=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Y=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ne extends f{getCookies(){return(0,l.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[a,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Y(a).trim(),i=Y(i).trim(),t[a]=i}),t})()}setCookie(e){return(0,l.Z)(function*(){try{const t=j(e.key),s=j(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),u=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${a}; path=${i}; ${u};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,l.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,l.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,l.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}n("CapacitorCookies",{web:()=>new ne});const re=function(){var r=(0,l.Z)(function*(e){return new Promise((t,s)=>{const a=new FileReader;a.onload=()=>{const i=a.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},a.onerror=i=>s(i),a.readAsDataURL(e)})});return function(t){return r.apply(this,arguments)}}();class ae extends f{request(e){return(0,l.Z)(function*(){const t=((r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),a=((r={})=>{const e=Object.keys(r);return Object.keys(r).map(a=>a.toLocaleLowerCase()).reduce((a,i,u)=>(a[i]=r[e[u]],a),{})})(r.headers)["content-type"]||"";if("string"==typeof r.data)t.body=r.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[u,o]of Object.entries(r.data||{}))i.set(u,o);t.body=i.toString()}else if(a.includes("multipart/form-data")){const i=new FormData;if(r.data instanceof FormData)r.data.forEach((o,P)=>{i.append(P,o)});else for(const o of Object.keys(r.data))i.append(o,r.data[o]);t.body=i;const u=new Headers(t.headers);u.delete("content-type"),t.headers=u}else(a.includes("application/json")||"object"==typeof r.data)&&(t.body=JSON.stringify(r.data));return t})(e,e.webFetchExtra),s=((r,e=!0)=>r?Object.entries(r).reduce((s,a)=>{const[i,u]=a;let o,P;return Array.isArray(u)?(P="",u.forEach(d=>{o=e?encodeURIComponent(d):d,P+=`${i}=${o}&`}),P.slice(0,-1)):(o=e?encodeURIComponent(u):u,P=`${i}=${o}`),`${s}&${P}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=s?`${e.url}?${s}`:e.url,i=yield fetch(a,t),u=i.headers.get("content-type")||"";let P,d,{responseType:o="text"}=i.ok?e:{};switch(u.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":d=yield i.blob(),P=yield re(d);break;case"json":P=yield i.json();break;default:P=yield i.text()}const H={};return i.headers.forEach((N,q)=>{H[q]=N}),{data:P,headers:H,status:i.status,url:i.url}})()}get(e){var t=this;return(0,l.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,l.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,l.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,l.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,l.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}n("CapacitorHttp",{web:()=>new ae})},1708:(te,R,b)=>{b.r(R),b.d(R,{QrReaderPage:()=>A});var l=b(5861),I=b(6814),G=b(95),m=b(7027);const x=(0,b(2726).fo)("BarcodeScanner",{web:()=>b.e(7338).then(b.bind(b,7338)).then(n=>new n.BarcodeScannerWeb)});var c=b(6689);function X(n,T){if(1&n&&(c.TgZ(0,"ion-item")(1,"ion-label",6),c._uU(2),c.qZA(),c._UZ(3,"ion-input",7),c.qZA()),2&n){const Z=T.$implicit;c.xp6(2),c.Oqu(Z.format),c.xp6(1),c.Q6J("value",Z.rawValue)}}let A=(()=>{var n;class T{constructor(f){this.alertController=f,this.isSupported=!1,this.codes=[]}ngOnInit(){x.isSupported().then(f=>{this.isSupported=f.supported})}scan(){var f=this;return(0,l.Z)(function*(){if(!(yield f.requestPermissions()))return void f.presentAlert();const{barcodes:j}=yield x.scan();f.codes.push(...j)})()}requestPermissions(){return(0,l.Z)(function*(){const{camera:f}=yield x.requestPermissions();return"granted"===f||"limited"===f})()}presentAlert(){var f=this;return(0,l.Z)(function*(){yield(yield f.alertController.create({header:"Permission denied",message:"Please grant camera permission to use the barcode scanner.",buttons:["OK"]})).present()})()}}return(n=T).\u0275fac=function(f){return new(f||n)(c.Y36(m.Br))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-qr-reader"]],standalone:!0,features:[c.jDz],decls:12,vars:2,consts:[["slot","start"],["defaultHref","/student-class"],[4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"disabled","click"],["name","scan"],["position","stacked"],["type","text",3,"value"]],template:function(f,k){1&f&&(c.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),c._UZ(3,"ion-back-button",1),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Barcode Scanner"),c.qZA()()(),c.TgZ(6,"ion-content")(7,"ion-list"),c.YNc(8,X,4,2,"ion-item",2),c.qZA(),c.TgZ(9,"ion-fab",3)(10,"ion-fab-button",4),c.NdJ("click",function(){return k.scan()}),c._UZ(11,"ion-icon",5),c.qZA()()()),2&f&&(c.xp6(8),c.Q6J("ngForOf",k.codes),c.xp6(2),c.Q6J("disabled",!k.isSupported))},dependencies:[m.Pc,m.oU,m.Sm,m.W2,m.IJ,m.W4,m.Gu,m.gu,m.pK,m.Ie,m.Q$,m.q_,m.wd,m.sr,m.j9,m.cs,I.ez,I.sg,G.u5]}),T})()}}]);